"use strict";
Page({
    data: {
        userinfo: {},
        collectNums: 0,
        starCount: 0,
        forksCount: 0,
        visitTotal: 0,
    },
    onShow: function () {
        this.getUserInfo();
        var that = this;
        wx.showLoading({
            title: '数据加载中',
            mask: true,
        });
        var i = 0;
        numDH();
        function numDH() {
            if (i < 20) {
                setTimeout(function () {
                    that.setData({
                        starCount: i,
                        forksCount: i,
                        visitTotal: i
                    });
                    i++;
                    numDH();
                }, 20);
            }
            else {
                that.setData({
                    starCount: that.coutNum(3000),
                    forksCount: that.coutNum(484),
                    visitTotal: that.coutNum(24000)
                });
            }
        }
        wx.hideLoading();
    },
    handleGetUserInfo: function (e) {
        var userInfo = e.detail.userInfo;
        wx.setStorageSync("userinfo", userInfo);
        this.getUserInfo();
    },
    getUserInfo: function () {
        var userinfo = wx.getStorageSync("userinfo");
        var collect = wx.getStorageSync("collect") || [];
        this.setData({ userinfo: userinfo, collectNums: collect.length });
    },
    coutNum: function (e) {
        if (e > 1000 && e < 10000) {
            e = (e / 1000).toFixed(1) + 'k';
        }
        if (e > 10000) {
            e = (e / 10000).toFixed(1) + 'W';
        }
        return e;
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZmlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInByb2ZpbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLFFBQVEsRUFBQyxFQUFFO1FBRVgsV0FBVyxFQUFDLENBQUM7UUFDYixTQUFTLEVBQUUsQ0FBQztRQUNaLFVBQVUsRUFBRSxDQUFDO1FBQ2IsVUFBVSxFQUFFLENBQUM7S0FDZDtJQUNELE1BQU0sRUFBTjtRQUNFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7UUFDaEIsRUFBRSxDQUFDLFdBQVcsQ0FBQztZQUNiLEtBQUssRUFBRSxPQUFPO1lBQ2QsSUFBSSxFQUFFLElBQUk7U0FDWCxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixLQUFLLEVBQUUsQ0FBQztRQUNSLFNBQVMsS0FBSztZQUNaLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDVixVQUFVLENBQUM7b0JBQ1QsSUFBSSxDQUFDLE9BQVEsQ0FBQzt3QkFDWixTQUFTLEVBQUUsQ0FBQzt3QkFDWixVQUFVLEVBQUUsQ0FBQzt3QkFDYixVQUFVLEVBQUUsQ0FBQztxQkFDZCxDQUFDLENBQUE7b0JBQ0YsQ0FBQyxFQUFFLENBQUE7b0JBQ0gsS0FBSyxFQUFFLENBQUM7Z0JBQ1YsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO2FBQ1A7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE9BQVEsQ0FBQztvQkFDWixTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7b0JBQzdCLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztvQkFDN0IsVUFBVSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2lCQUNoQyxDQUFDLENBQUE7YUFDSDtRQUNILENBQUM7UUFDRCxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUE7SUFDbEIsQ0FBQztJQUNELGlCQUFpQixFQUFqQixVQUFrQixDQUFNO1FBRWQsSUFBQSxRQUFRLEdBQUssQ0FBQyxDQUFDLE1BQU0sU0FBYixDQUFjO1FBQzlCLEVBQUUsQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBQ0QsV0FBVyxFQUFYO1FBQ0UsSUFBTSxRQUFRLEdBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3QyxJQUFNLE9BQU8sR0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxJQUFFLEVBQUUsQ0FBQztRQUMvQyxJQUFJLENBQUMsT0FBUSxDQUFDLEVBQUMsUUFBUSxVQUFBLEVBQUMsV0FBVyxFQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFDRCxPQUFPLFlBQUMsQ0FBQztRQUNQLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFO1lBQ3pCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFBO1NBQ2hDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFO1lBQ2IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUE7U0FDakM7UUFDRCxPQUFPLENBQUMsQ0FBQTtJQUNWLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9wcm9maWxlL3Byb2ZpbGUuanNcbi8v6I635Y+W5bqU55So5a6e5L6LXG4vLyBpbXBvcnQgeyBJTXlBcHAgfSBmcm9tICcuLi8uLi9hcHAnXG4vLyBjb25zdCBhcHAgPSBnZXRBcHA8SU15QXBwPigpO1xuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICB1c2VyaW5mbzp7fSxcbiAgICAvLyDooqvmlLbol4/nmoTllYblk4HnmoTmlbDph49cbiAgICBjb2xsZWN0TnVtczowLFxuICAgIHN0YXJDb3VudDogMCxcbiAgICBmb3Jrc0NvdW50OiAwLFxuICAgIHZpc2l0VG90YWw6IDAsXG4gIH0sXG4gIG9uU2hvdygpe1xuICAgIHRoaXMuZ2V0VXNlckluZm8oKTtcbiAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgd3guc2hvd0xvYWRpbmcoe1xuICAgICAgdGl0bGU6ICfmlbDmja7liqDovb3kuK0nLFxuICAgICAgbWFzazogdHJ1ZSxcbiAgICB9KVxuICAgIGxldCBpID0gMDtcbiAgICBudW1ESCgpO1xuICAgIGZ1bmN0aW9uIG51bURIKCkge1xuICAgICAgaWYgKGkgPCAyMCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGF0LnNldERhdGEhKHtcbiAgICAgICAgICAgIHN0YXJDb3VudDogaSxcbiAgICAgICAgICAgIGZvcmtzQ291bnQ6IGksXG4gICAgICAgICAgICB2aXNpdFRvdGFsOiBpXG4gICAgICAgICAgfSlcbiAgICAgICAgICBpKytcbiAgICAgICAgICBudW1ESCgpO1xuICAgICAgICB9LCAyMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoYXQuc2V0RGF0YSEoe1xuICAgICAgICAgIHN0YXJDb3VudDogdGhhdC5jb3V0TnVtKDMwMDApLFxuICAgICAgICAgIGZvcmtzQ291bnQ6IHRoYXQuY291dE51bSg0ODQpLFxuICAgICAgICAgIHZpc2l0VG90YWw6IHRoYXQuY291dE51bSgyNDAwMClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgd3guaGlkZUxvYWRpbmcoKVxuICB9LFxuICBoYW5kbGVHZXRVc2VySW5mbyhlOiBhbnkpe1xuICAgIC8vIGNvbnNvbGUubG9nKGUpO1xuICAgIGNvbnN0IHsgdXNlckluZm8gfSA9IGUuZGV0YWlsO1xuICAgIHd4LnNldFN0b3JhZ2VTeW5jKFwidXNlcmluZm9cIiwgdXNlckluZm8pO1xuICAgIHRoaXMuZ2V0VXNlckluZm8oKTtcbiAgfSxcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlcmluZm89d3guZ2V0U3RvcmFnZVN5bmMoXCJ1c2VyaW5mb1wiKTtcbiAgICBjb25zdCBjb2xsZWN0PXd4LmdldFN0b3JhZ2VTeW5jKFwiY29sbGVjdFwiKXx8W107XG4gICAgdGhpcy5zZXREYXRhISh7dXNlcmluZm8sY29sbGVjdE51bXM6Y29sbGVjdC5sZW5ndGh9KTsgIFxuICB9LFxuICBjb3V0TnVtKGUpIHtcbiAgICBpZiAoZSA+IDEwMDAgJiYgZSA8IDEwMDAwKSB7XG4gICAgICBlID0gKGUgLyAxMDAwKS50b0ZpeGVkKDEpICsgJ2snXG4gICAgfVxuICAgIGlmIChlID4gMTAwMDApIHtcbiAgICAgIGUgPSAoZSAvIDEwMDAwKS50b0ZpeGVkKDEpICsgJ1cnXG4gICAgfVxuICAgIHJldHVybiBlXG4gIH0sXG59KVxuIl19